!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).vec={})}(this,(function(t){"use strict";function e(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":toString.call(t)}function r(t){return null==t}function n(t){return void 0===t}function o(t){return"number"==typeof t||"[object Number]"===e(t)}function i(t){return"bigint"==typeof t||"[object BigInt]"===e(t)}function s(t){return"symbol"==typeof t||"[object Symbol]"===e(t)}function h(t){return"string"==typeof t||"[object String]"===e(t)}function c(t){return"boolean"==typeof t||"[object Boolean]"===e(t)}function l(t){return!r(t)}function u(t){return!n(t)}function a(t){return"function"==typeof t}function f(t){return l(t)&&"GeneratorFunction"===t[Symbol.toStringTag]}function p(t){return"object"==typeof t&&null!==t}function y(t,e){return t===e||t!=t&&e!=e}function g(t){return null!=t&&"function"!=typeof t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Number.MAX_SAFE_INTEGER}(t.length)}const d="__lodash_hash_undefined__";class w{constructor(t){let e=-1;const r=null==t?0:t.length;for(this.clear();++e<r;){const r=t[e];this.set(r[0],r[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}get(t){const e=this.__data__[t];return e===d?void 0:e}has(t){return void 0!==this.__data__[t]}set(t,e){const r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=void 0===e?d:e,this}}function b({__data__:t},e){const r=t;return function(t){const e=typeof t;return"string"===e||"number"===e||"symbol"===e||"boolean"===e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}class _{constructor(t){let e=-1;const r=null==t?0:t.length;for(this.clear();++e<r;){const r=t[e];this.set(r[0],r[1])}}clear(){this.size=0,this.__data__={hash:new w,map:new Map,string:new w}}delete(t){const e=b(this,t).delete(t);return this.size-=e?1:0,e}get(t){return b(this,t).get(t)}has(t){return b(this,t).has(t)}set(t,e){const r=b(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}}class A{constructor(t){let e=-1;const r=null==t?0:t.length;for(this.__data__=new _;++e<r;)this.add(t[e])}add(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}has(t){return this.__data__.has(t)}}A.prototype.push=A.prototype.add;function m(t,e,r,n,o,i){const s=1&r,h=t.length,c=e.length;if(h!=c&&!(s&&c>h))return!1;const l=i.get(t);if(l&&i.get(e))return l==e;let u=-1,a=!0;const f=2&r?new A:void 0;for(i.set(t,e),i.set(e,t);++u<h;){let h;const c=t[u],l=e[u];if(n&&(h=s?n(l,c,u,e,t,i):n(c,l,u,t,e,i)),void 0!==h){if(h)continue;a=!1;break}if(f){if(!e.some(((t,e)=>{if(!f.has(e)&&(c===t||o(c,t,r,n,i)))return f.push(e)}))){a=!1;break}}else if(c!==l&&!o(c,l,r,n,i)){a=!1;break}}return i.delete(t),i.delete(e),a}const j=Symbol.prototype.valueOf;const T=Object.prototype.propertyIsEnumerable,E=Object.getOwnPropertySymbols;const V="object"==typeof global&&null!==global&&global.Object===Object&&global,v="object"==typeof globalThis&&null!==globalThis&&globalThis.Object==Object&&globalThis,z="object"==typeof self&&null!==self&&self.Object===Object&&self,O=v||V||z||Function("return this")(),S="object"==typeof t&&null!==t&&!t.nodeType&&t,k=S&&"object"==typeof module&&null!==module&&!module.nodeType&&module,B=k&&k.exports===S?O.Buffer:void 0,M=(B?B.isBuffer:void 0)||(()=>!1),x=/^(?:0|[1-9]\d*)$/;function F(t,e){const r=typeof t;return!!(e=null==e?Number.MAX_SAFE_INTEGER:e)&&("number"===r||"symbol"!==r&&x.test(t))&&t>-1&&t%1==0&&t<e}const N="object"==typeof t&&null!==t&&!t.nodeType&&t,I=N&&"object"==typeof module&&null!==module&&!module.nodeType&&module,R=I&&I.exports===N&&V.process,$=(()=>{try{const t=I&&I.require&&I.require("util").types;return t||R&&R.binding&&R.binding("util")}catch(t){}})(),P=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,U=$&&$.isTypedArray,L=U?t=>U(t):t=>p(t)&&P.test(e(t)),G=Object.prototype.hasOwnProperty;function q(t,r){const n=Array.isArray(t),o=!n&&function(t){return p(t)&&"[object Arguments]"==e(t)}(t),i=!n&&!o&&M(t),s=!n&&!o&&!i&&L(t),h=n||o||i||s,c=t.length,l=new Array(h?c:0);let u=h?-1:c;for(;++u<c;)l[u]=`${u}`;for(const e in t)!r&&!G.call(t,e)||h&&("length"===e||F(e,c))||l.push(e);return l}function D(t){const e=function(t){return g(t)?q(t):Object.keys(Object(t))}(t);return Array.isArray(t)||e.push(...function(t){return null==t?[]:(t=Object(t),E(t).filter((e=>T.call(t,e))))}(t)),e}const W=Object.prototype.hasOwnProperty;function X(t,e){let{length:r}=t;for(;r--;)if(y(t[r][0],e))return r;return-1}class C{constructor(t){let e=-1;const r=null==t?0:t.length;for(this.clear();++e<r;){const r=t[e];this.set(r[0],r[1])}}clear(){this.__data__=[],this.size=0}delete(t){const e=this.__data__,r=X(e,t);if(r<0)return!1;return r==e.length-1?e.pop():e.splice(r,1),--this.size,!0}get(t){const e=this.__data__,r=X(e,t);return r<0?void 0:e[r][1]}has(t){return X(this.__data__,t)>-1}set(t,e){const r=this.__data__,n=X(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}}class H{constructor(t){const e=this.__data__=new C(t);this.size=e.size}clear(){this.__data__=new C,this.size=0}delete(t){const e=this.__data__,r=e.delete(t);return this.size=e.size,r}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,e){let r=this.__data__;if(r instanceof C){const n=r.__data__;if(n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new _(n)}return r.set(t,e),this.size=r.size,this}}const J="[object Arguments]",K="[object Array]",Q="[object Object]",Y=Object.prototype.hasOwnProperty;function Z(t,r,n,o,i,s){let h=Array.isArray(t);const c=Array.isArray(r);let l=h?K:e(t),u=c?K:e(r);l=l==J?Q:l,u=u==J?Q:u;let a=l==Q;const f=u==Q,p=l==u;if(p&&M(t)){if(!M(r))return!1;h=!0,a=!1}if(p&&!a)return s||(s=new H),h||L(t)?m(t,r,n,o,i,s):function(t,e,r,n,o,i,s){let h=()=>[];switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Uint8Array(t),new Uint8Array(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return y(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==`${e}`;case"[object Map]":h=t=>[...t];case"[object Set]":const r=1&n;if(h=t=>[...t],t.size!=e.size&&!r)return!1;const c=s.get(t);if(c)return c==e;n|=2,s.set(t,e);const l=m(h(t),h(e),n,o,i,s);return s.delete(t),l;case"[object Symbol]":if(j)return j.call(t)==j.call(e)}return!1}(t,r,l,n,o,i,s);if(!(1&n)){const e=a&&Y.call(t,"__wrapped__"),h=f&&Y.call(r,"__wrapped__");if(e||h){const c=e?t.value():t,l=h?r.value():r;return s||(s=new H),i(c,l,n,o,s)}}return!!p&&(s||(s=new H),function(t,e,r,n,o,i){const s=1&r,h=D(t),c=h.length;if(c!=D(e).length&&!s)return!1;let l,u=c;for(;u--;)if(l=h[u],!(s?l in e:W.call(e,l)))return!1;const a=i.get(t);if(a&&i.get(e))return a==e;let f,p=!0;i.set(t,e),i.set(e,t);let y=s;for(;++u<c;){l=h[u];const c=t[l],a=e[l];if(n&&(f=s?n(a,c,l,e,t,i):n(c,a,l,t,e,i)),!(void 0===f?c===a||o(c,a,r,n,i):f)){p=!1;break}y||(y="constructor"==l)}if(p&&!y){const r=t.constructor,n=e.constructor;r==n||!("constructor"in t)||!("constructor"in e)||"function"==typeof r&&r instanceof r&&"function"==typeof n&&n instanceof n||(p=!1)}return i.delete(t),i.delete(e),p}(t,r,n,o,i,s))}function tt(t,e,r,n,o){return t===e||(null==t||null==e||!p(t)&&!p(e)?t!=t&&e!=e:Z(t,e,r,n,tt,o))}function et(t,e){return tt(t,e)}class rt extends Array{get[Symbol.toStringTag](){return"Array"}static get[Symbol.species](){return rt}}function nt(){return new rt}function ot(t,e="value"){if(null==t||void 0===t)throw new TypeError(`${e} is null or not defined.`)}function it(t,e="value"){if(!a(t))throw new TypeError(`${e} is not a function.`)}function st(t,e="value"){if(!Number.isFinite(t)||t<0)throw new TypeError(`${e} must be a non-negative number.`)}function ht(t,e="value"){if(f(t))throw new TypeError(`${e} is a generator function. It should be a normal function.`)}function ct(t,e){st(t,"count");const r=Math.floor(t);if(0===r)return nt();const n=new rt;for(let t=0;t<r;t+=1)n.push(e);return n}rt.empty=nt,rt.init=function(t,e){st(t,"count"),it(e,"initializer"),ht(e,"initializer");const r=Math.floor(t);if(0===r)return nt();const n=new rt;for(let t=0;t<r;t+=1)n.push(e(t));return n},rt.create=ct,rt.isVec=function(t){return"[object Vec]"===Object.prototype.toString.call(t)},rt.some2=function(t,e,r){if(it(t,"predicate"),ht(t,"predicate"),ot(e,"source1"),ot(r,"source2"),!Array.isArray(e)&&!rt.isVec(e))throw new TypeError("source1 should be Array or Vec.");if(!Array.isArray(r)&&!rt.isVec(r))throw new TypeError("source2 should be Array or Vec.");if(e.length!==r.length)throw new TypeError("source1 and source2 have different lengths.");return function n(o){return o<e.length&&(t(e[o],r[o])||n(o+1))}(0)},rt.every2=function(t,e,r){if(it(t,"predicate"),ht(t,"predicate"),ot(e,"source1"),ot(r,"source2"),!Array.isArray(e)&&!rt.isVec(e))throw new TypeError("source1 should be Array or Vec.");if(!Array.isArray(r)&&!rt.isVec(r))throw new TypeError("source2 should be Array or Vec.");if(e.length!==r.length)throw new TypeError("source1 and source2 have different lengths.");return function n(o){return o>=e.length||t(e[o],r[o])&&n(o+1)}(0)},rt.fold2=function(t,e,r,n){if(ot(e,"state"),it(t,"folder"),ht(t,"folder"),ot(r,"source1"),ot(n,"source2"),!Array.isArray(r)&&!rt.isVec(r))throw new TypeError("source1 should be an Array or a Vec.");if(!Array.isArray(n)&&!rt.isVec(n))throw new TypeError("source2 should be an Array or a Vec.");if(r.length!==n.length)throw new TypeError("source1 and source2 have different lengths.");let o=e;for(let e=0;e<r.length;e+=1)o=t(o,r[e],n[e]);return o},rt.foldRight2=function(t,e,r,n){if(ot(n,"state"),it(t,"folder"),ht(t,"folder"),ot(e,"source1"),ot(r,"source2"),!Array.isArray(e)&&!rt.isVec(e))throw new TypeError("source1 should be Array or Vec.");if(!Array.isArray(r)&&!rt.isVec(r))throw new TypeError("source2 should be Array or Vec.");if(e.length!==r.length)throw new TypeError("source1 and source2 have different lengths.");let o=n;for(let n=e.length-1;n>=0;n-=1)o=t(e[n],r[n],o);return o},rt.forEach2=function(t,e,r){if(it(t,"action"),ht(t,"action"),ot(e,"source1"),ot(r,"source2"),!Array.isArray(e)&&!rt.isVec(e))throw new TypeError("source1 should be an Array or a Vec.");if(!Array.isArray(r)&&!rt.isVec(r))throw new TypeError("source2 should be an Array or a Vec.");if(e.length!==r.length)throw new TypeError("source1 and source2 have different lengths.");for(let n=0;n<e.length;n+=1)t(e[n],r[n],n)},rt.map2=function(t,e,r){if(it(t,"mapping"),ht(t,"mapping"),ot(e,"source1"),ot(r,"source2"),!Array.isArray(e)&&!rt.isVec(e))throw new TypeError("source1 should be an Array or a Vec.");if(!Array.isArray(r)&&!rt.isVec(r))throw new TypeError("source2 should be an Array or a Vec.");if(e.length!==r.length)throw new TypeError("source1 and source2 have different lengths.");const n=new rt(e.length);for(let o=0;o<e.length;o+=1)n[o]=t(e[o],r[o],o);return n},rt.map3=function(t,e,r,n){if(it(t,"mapping"),ht(t,"mapping"),ot(e,"source1"),ot(r,"source2"),ot(n,"source2"),!Array.isArray(e)&&!rt.isVec(e))throw new TypeError("source1 should be an Array or a Vec.");if(!Array.isArray(r)&&!rt.isVec(r))throw new TypeError("source2 should be an Array or a Vec.");if(!Array.isArray(n)&&!rt.isVec(n))throw new TypeError("source3 should be an Array or a Vec.");if(e.length!==r.length||e.length!==n.length)throw new TypeError("source1, source2, and source3 have different lengths.");const o=new rt(e.length);for(let i=0;i<e.length;i+=1)o[i]=t(e[i],r[i],n[i],i);return o},rt.zip3=function(t,e,r){if(ot(t,"source1"),ot(e,"source2"),ot(r,"source2"),!Array.isArray(t)&&!rt.isVec(t))throw new TypeError("source1 should be an Array or a Vec.");if(!Array.isArray(e)&&!rt.isVec(e))throw new TypeError("source2 should be an Array or a Vec.");if(!Array.isArray(r)&&!rt.isVec(r))throw new TypeError("source3 should be an Array or a Vec.");if(t.length!==e.length||t.length!==r.length)throw new TypeError("source1, source2, and source3 have different lengths.");const n=new rt(t.length);for(let o=0;o<t.length;o+=1)n[o]=new rt(t[o],e[o],r[o]);return n},rt.unfold=function(t,e){ot(e,"state"),it(t,"generator"),ht(t,"generator");const r=new rt;return function e(n){const o=t(n);if(l(o)&&u(o)){const[t,n]=o;r.push(t),l(n)&&u(n)&&e(n)}}(e),r},rt.allPairs=function(t,e){if(!Array.isArray(t)&&!rt.isVec(t))throw new TypeError("source1 should be an Array or a Vec.");if(!Array.isArray(e)&&!rt.isVec(e))throw new TypeError("source2 should be an Array or a Vec.");const r=t.length,n=e.length,o=new rt(r*n);for(let i=0;i<r;i+=1)for(let r=0;r<n;r+=1)o[i*n+r]=new rt(t[i],e[r]);return o},rt.prototype.isEmpty=function(){return ot(this,"this"),0===this.length},rt.prototype.copy=function(){return ot(this,"this"),this.slice()},rt.prototype.countBy=function(t){let e;ot(this,"this"),it(t,"projection"),ht(t,"projection"),arguments.length>1&&(e=arguments[1]);const r=new Map;for(const n of this){const o=t.call(e,n);let i=1,s=!1;for(const t of r.keys())if(et(t,o)){i=r.get(t)+1,s=!0,r.set(t,i);break}s||r.set(o,i)}const n=new rt;return r.forEach(((t,e)=>n.push(rt.of(e,t)))),n},rt.prototype.findRight=function(t){ot(this,"this"),it(t,"predicate"),ht(t,"predicate");const e=Object(this);let r;arguments.length>1&&(r=arguments[1]);const n=function(o){if(!(o<0))return t.call(r,e[o])?e[o]:n(o-1)};return n(this.length-1)},rt.prototype.findIndexRight=function(t){ot(this,"this"),it(t,"predicate"),ht(t,"predicate");const e=Object(this);let r;return arguments.length>1&&(r=arguments[1]),function n(o){return o<0?-1:t.call(r,e[o])?o:n(o-1)}(this.length-1)},rt.prototype.head=function(){if(ot(this,"this"),!this.isEmpty())return this[0]},rt.prototype.tail=function(){return ot(this,"this"),this.slice(1)},rt.prototype.get=function(t){return ot(this,"this"),this[t]},rt.prototype.set=function(t,e){return ot(this,"this"),this[t]=e},rt.prototype.last=function(){return ot(this,"this"),this[this.length-1]},rt.prototype.take=function(t){if(ot(this,"this"),t<=0)return nt();const e=this.length;if(t>=e)return this;const r=Object(this);let n=0;const o=new rt;for(;n<t&&n!==e;)o.push(r[n]),n+=1;return o},rt.prototype.takeWhile=function(t){let e;ot(this,"this"),it(t,"predicate"),ht(t,"predicate"),arguments.length>1&&(e=arguments[1]);const r=new rt;for(const n of this){if(!t.call(e,n))break;r.push(n)}return r},rt.prototype.skipWhile=function(t){let e;ot(this,"this"),it(t,"predicate"),ht(t,"predicate"),arguments.length>1&&(e=arguments[1]);let r=0;for(;r<this.length&&t.call(e,this[r]);)r+=1;return r===this.length?nt():this.slice(r)},rt.prototype.min=function(){if(ot(this,"this"),0===this.length)return;let t;for(let e=1;e<this.length;e+=1)o(this[e])&&(void 0===t||this[e]<t)&&(t=this[e]);return t},rt.prototype.max=function(){if(ot(this,"this"),0===this.length)return;let t;for(let e=0;e<this.length;e+=1)o(this[e])&&(void 0===t||this[e]>t)&&(t=this[e]);return t},rt.prototype.minBy=function(t){let e,r;if(ot(this,"this"),it(t,"projection"),ht(t,"projection"),arguments.length>1&&(e=arguments[1]),0!==this.length){for(let n=0;n<this.length;n+=1){const i=t.call(e,this[n]);o(i)&&(void 0===r||i<r)&&(r=i)}return r}},rt.prototype.maxBy=function(t){let e,r;if(ot(this,"this"),it(t,"projection"),ht(t,"projection"),arguments.length>1&&(e=arguments[1]),0!==this.length){for(let n=0;n<this.length;n+=1){const i=t.call(e,this[n]);o(i)&&(void 0===r||i>r)&&(r=i)}return r}},rt.prototype.sum=function(){if(ot(this,"this"),0===this.length)return;let t=0;for(let e=0;e<this.length;e+=1)o(this[e])&&(t+=this[e]);return t},rt.prototype.sumBy=function(t){let e;if(ot(this,"this"),it(t,"projection"),ht(t,"projection"),arguments.length>1&&(e=arguments[1]),0===this.length)return;let r=0;for(let n=0;n<this.length;n+=1){const i=t.call(e,this[n]);o(i)&&(r+=i)}return r},rt.prototype.average=function(){if(ot(this,"this"),0===this.length)return;let t=0;for(let e=0;e<this.length;e+=1)o(this[e])&&(t+=this[e]);return t/this.length},rt.prototype.averageBy=function(t){let e;if(ot(this,"this"),it(t,"projection"),ht(t,"projection"),arguments.length>1&&(e=arguments[1]),0===this.length)return;let r=0;for(let n=0;n<this.length;n+=1){const i=t.call(e,this[n]);o(i)&&(r+=i)}return r/this.length},rt.prototype.splitAt=function(t){ot(this,"this"),st(t,"index");const e=Math.floor(t);if(this.length<e)throw new TypeError("The vec has an insufficient number of elements.");return 0===e?new rt([],this.slice(0)):e===this.length?new rt(this.slice(0),[]):new rt(this.slice(0,e),this.slice(e))},rt.prototype.partition=function(t){let e;ot(this,"this"),it(t,"predicate"),ht(t,"predicate"),arguments.length>1&&(e=arguments[1]);const r=new rt,n=new rt;for(const o of this)t.call(e,o)?r.push(o):n.push(o);return new rt(r,n)},rt.prototype.scan=function(t,e){let r;ot(this,"this"),ot(e,"initialState"),it(t,"folder"),ht(t,"folder"),arguments.length>2&&(r=arguments[2]);let n=e;const o=ct(this.length+1,e);for(let e=0;e<this.length;e+=1)n=t.call(r,n,this[e]),o[e+1]=n;return o},rt.prototype.scanRight=function(t,e){let r;ot(this,"this"),ot(e,"initialState"),it(t,"folder"),ht(t,"folder"),arguments.length>2&&(r=arguments[2]);let n=e;const o=ct(this.length+1,e);for(let e=this.length-1;e>=0;e-=1)n=t.call(r,this[e],n),o[e]=n;return o},rt.prototype.windowed=function(t){ot(this,"this"),st(t,"windowSize");const e=Math.floor(t);if(e>this.length)return nt();const r=this.length-e+1,n=new rt(r);for(let t=0;t<r;t+=1)n[t]=this.slice(t,e+t);return n},rt.prototype.zip=function(t){ot(this,"this"),ot(t,"other");const e=this.length;if(e!==t.length)throw new TypeError("other has different array length.");const r=new rt(e);for(let n=0;n<e;n+=1)r[n]=new rt(this[n],t[n]);return r},rt.prototype.unzip=function(){ot(this,"this");const t=new rt(this.length),e=new rt(this.length);for(let r=0;r<this.length;r+=1){const[n,o]=this[r];ot(n,"f"),ot(o,"s"),t[r]=n,e[r]=o}return new rt(t,e)},rt.prototype.distinct=function(){ot(this,"this");const t=new Set;for(let e=0;e<this.length;e+=1){const r=this[e];[...t].every((t=>!et(t,r)))&&t.add(r)}return rt.from(t)},rt.prototype.distinctBy=function(t){let e;ot(this,"this"),it(t,"projection"),ht(t,"projection"),arguments.length>1&&(e=arguments[1]);const r=new Set,n=new rt;for(let o=0;o<this.length;o+=1){const i=this[o],s=t.call(e,i);let h=!1;for(const t of r)if(et(t,s)){h=!0;break}h||(r.add(s),n.push(i))}return n},rt.prototype.pairwise=function(){return ot(this,"this"),this.length<2?nt():rt.init(this.length-1,(t=>new rt(this[t],this[t+1])))},rt.prototype.except=function(...t){if(ot(this,"this"),0===this.length)return this;if(0===t.length)return this.copy();const e=new Set;for(const r of t)[...e].every((t=>!et(t,r)))&&e.add(r);return this.filter((t=>[...e].every((e=>!et(e,t)))))},rt.prototype.groupBy=function(t){let e;ot(this,"this"),it(t,"projection"),ht(t,"projection"),arguments.length>1&&(e=arguments[1]);const r=new Map;for(const n of this){const o=t.call(e,n);let i=!1;for(const t of r.keys())if(et(t,o)){r.get(t).push(n),i=!0;break}i||r.set(o,rt.of(n))}const n=new rt;return r.forEach(((t,e)=>n.push(rt.of(e,t)))),n},rt.prototype.mapFold=function(t,e){ot(this,"this"),ot(e,"state"),it(t,"mapping"),ht(t,"mapping");let r,n=e;if(arguments.length>2&&(r=arguments[2]),0===this.length)return new rt(nt(),n);const o=new rt(this.length);for(let e=0;e<this.length;e+=1){const[i,s]=t.call(r,n,this[e]);o[e]=i,n=s}return new rt(o,n)},rt.prototype.mapFoldRight=function(t,e){ot(this,"this"),ot(e,"state"),it(t,"mapping"),ht(t,"mapping");let r,n=e;if(arguments.length>2&&(r=arguments[2]),0===this.length)return new rt(nt(),e);const o=new rt(this.length);for(let e=this.length-1;e>=0;e-=1){const[i,s]=t.call(r,this[e],n);o[e]=i,n=s}return new rt(o,n)},rt.prototype.chunkBySize=function(t){ot(this,"this"),st(t,"chunkSize");const e=Math.floor(t),r=this.length;if(0===r)return nt();if(e>r)return new rt(this.copy());const n=new rt,o=Math.floor(r/e)*e;for(let t=0;t<o;t+=e)n.push(this.slice(t,t+e));return o===r||n.push(this.slice(o)),n},rt.prototype.binarySearch=function(t,e){ot(this,"this"),ot(t,"item");const o=r(e)||n(e)?(t,e)=>t>e?1:t<e?-1:t===e?0:-1:e;if(0===this.length)return-1;let i;arguments.length>2&&(i=arguments[2]);let s=0,h=this.length-1;for(;s<=h;){const e=Math.floor((s+h)/2),r=o.call(i,this[e],t);if(0===r)return e;r<0?s=e+1:h=e-1}return-1},rt.prototype.permute=function(){ot(this,"this");const t=this.length;if(0===t)return nt();const e=new rt,r=()=>{const r=new rt;for(let e=0;e<t;e+=1)r.push(this[e]);e.push(r)},n=new rt(t);for(let e=0;e<t;e+=1)n[e]=0;r();let o,i=1;for(;i<t;)if(n[i]<i){o=i%2*n[i];const t=this[o];this[o]=this[i],this[i]=t,r(),n[i]+=1,i=1}else n[i]=0,i+=1;for(let r=0;r<t;r+=1)this[r]=e[0][r];return e},rt.prototype.transpose=function(){if(ot(this,"this"),0===this.length)return nt();let t;for(let e=0;e<this.length;e+=1)if(r(t)||n(t))t=this[e].length;else if(t!==this[e].length)throw new TypeError("all Array or Vec elements of source should have the same length.");const e=new rt(t),o=this.length;for(let r=0;r<t;r+=1){e[r]=new rt(o);for(let t=0;t<o;t+=1)e[r][t]=this[t][r]}return e},t.Vec=rt,t.isBigInt=i,t.isBoolean=c,t.isEqual=et,t.isFunction=a,t.isGeneratorFunction=f,t.isIterable=function(t){return l(t)&&u(t[Symbol.iterator])},t.isNull=r,t.isNumber=o,t.isObject=function(t){return null!=t&&"object"==typeof t},t.isObjectLike=p,t.isPrimitive=function(t){return r(t)||n(t)||o(t)||i(t)||s(t)||h(t)||c(t)},t.isString=h,t.isSymbol=s,t.isUndefined=n,Object.defineProperty(t,"__esModule",{value:!0})}));
